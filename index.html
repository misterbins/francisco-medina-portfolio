<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Francisco Medina - Director Creativo</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            color: #1a1a1a;
            background: #fefefe;
        }

        /* Typography */
        h1, h2, h3 {
            font-family: 'Playfair Display', serif;
            font-weight: 600;
        }

        h1 {
            font-size: clamp(2.5rem, 5vw, 4rem);
            line-height: 1.1;
            margin-bottom: 1rem;
        }

        h2 {
            font-size: clamp(2rem, 4vw, 3rem);
            line-height: 1.2;
            margin-bottom: 2rem;
        }

        h3 {
            font-size: clamp(1.5rem, 3vw, 2rem);
            line-height: 1.3;
            margin-bottom: 1rem;
        }

        p {
            font-size: 1.1rem;
            line-height: 1.7;
            margin-bottom: 1.5rem;
        }

        /* Layout */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        section {
            padding: 4rem 0;
            border-bottom: 1px solid #eee;
        }

        section:last-child {
            border-bottom: none;
        }

        /* Language Toggle */
        .language-toggle {
            position: fixed;
            top: 2rem;
            right: 2rem;
            z-index: 1000;
            background: #1a1a1a;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 25px;
            cursor: pointer;
            font-family: 'Inter', sans-serif;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .language-toggle:hover {
            background: #333;
            transform: translateY(-2px);
        }

        /* Admin Toggle */
        .admin-toggle {
            position: fixed;
            top: 2rem;
            right: 6rem;
            z-index: 1000;
            background: #e74c3c;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 25px;
            cursor: pointer;
            font-family: 'Inter', sans-serif;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .admin-toggle:hover {
            background: #c0392b;
            transform: translateY(-2px);
        }

        /* Content sections */
        .hidden {
            display: none;
        }

        .hero {
            text-align: center;
            padding: 6rem 0;
        }

        .subtitle {
            font-size: 1.2rem;
            color: #666;
            margin-bottom: 3rem;
            font-weight: 300;
        }

        .evolution-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 3rem;
            margin: 3rem 0;
        }

        .evolution-item {
            text-align: center;
        }

        .evolution-number {
            font-family: 'Playfair Display', serif;
            font-size: 3rem;
            font-weight: 300;
            color: #ccc;
            margin-bottom: 1rem;
        }

        .evolution-period {
            font-size: 0.9rem;
            color: #888;
            margin-bottom: 1rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 4rem;
            margin: 3rem 0;
        }

        .service-item h3 {
            border-bottom: 2px solid #1a1a1a;
            padding-bottom: 0.5rem;
            margin-bottom: 1.5rem;
        }

        .service-item ul {
            list-style: none;
        }

        .service-item li {
            padding: 0.5rem 0;
            font-size: 1rem;
            color: #555;
        }

        .service-item li:before {
            content: "→ ";
            color: #1a1a1a;
            font-weight: bold;
        }

        .cases-grid {
            display: grid;
            gap: 3rem;
            margin: 3rem 0;
        }

        .case-item {
            padding: 2rem 0;
            border-bottom: 1px solid #eee;
        }

        .case-item:last-child {
            border-bottom: none;
        }

        .case-result {
            font-style: italic;
            color: #666;
            margin-top: 1rem;
            font-size: 0.95rem;
        }

        /* Contact Form */
        .contact-form {
            max-width: 600px;
            margin: 3rem auto 0;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: #333;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 1rem;
            border: 2px solid #eee;
            border-radius: 8px;
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #1a1a1a;
        }

        .form-group textarea {
            resize: vertical;
            min-height: 120px;
        }

        .btn-submit {
            background: #1a1a1a;
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 8px;
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
        }

        .btn-submit:hover {
            background: #333;
            transform: translateY(-2px);
        }

        /* Admin Panel */
        .admin-panel {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            z-index: 10000;
            display: none;
            overflow: auto;
        }

        .admin-content {
            background: white;
            margin: 2rem;
            padding: 2rem;
            border-radius: 10px;
            max-width: 800px;
            margin: 2rem auto;
        }

        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            border-bottom: 2px solid #eee;
            padding-bottom: 1rem;
        }

        .admin-section {
            margin-bottom: 2rem;
            padding: 1rem;
            border: 1px solid #eee;
            border-radius: 8px;
        }

        .admin-section h3 {
            color: #e74c3c;
            margin-bottom: 1rem;
        }

        .admin-input {
            width: 100%;
            padding: 0.8rem;
            margin-bottom: 1rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-family: 'Inter', sans-serif;
        }

        .admin-textarea {
            width: 100%;
            padding: 0.8rem;
            margin-bottom: 1rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-family: 'Inter', sans-serif;
            min-height: 100px;
            resize: vertical;
        }

        .admin-btn {
            background: #e74c3c;
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 4px;
            cursor: pointer;
            font-family: 'Inter', sans-serif;
            margin-right: 1rem;
            margin-bottom: 1rem;
        }

        .admin-btn:hover {
            background: #c0392b;
        }

        .admin-btn.secondary {
            background: #95a5a6;
        }

        .admin-btn.secondary:hover {
            background: #7f8c8d;
        }

        .lang-tabs {
            display: flex;
            margin-bottom: 1rem;
        }

        .lang-tab {
            padding: 0.5rem 1rem;
            border: 1px solid #ddd;
            background: #f8f9fa;
            cursor: pointer;
            margin-right: 0.5rem;
        }

        .lang-tab.active {
            background: #e74c3c;
            color: white;
            border-color: #e74c3c;
        }

        .editable {
            position: relative;
        }

        .edit-overlay {
            position: absolute;
            top: -10px;
            right: -10px;
            background: #e74c3c;
            color: white;
            border: none;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            cursor: pointer;
            font-size: 12px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .admin-mode .editable:hover .edit-overlay {
            opacity: 1;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .container {
                padding: 0 1rem;
            }
            
            .language-toggle {
                top: 1rem;
                right: 1rem;
            }
            
            .admin-toggle {
                top: 1rem;
                right: 5rem;
            }
            
            .services-grid {
                grid-template-columns: 1fr;
                gap: 2rem;
            }
            
            .evolution-grid {
                grid-template-columns: 1fr;
                gap: 2rem;
            }

            .admin-content {
                margin: 1rem;
                padding: 1rem;
            }
        }
    </style>
</head>
<body>
    <button class="language-toggle" onclick="toggleLanguage()">EN</button>
    <button class="admin-toggle" onclick="toggleAdmin()"><i class="fas fa-edit"></i></button>

    <!-- ADMIN PANEL -->
    <div class="admin-panel" id="adminPanel">
        <div class="admin-content">
            <div class="admin-header">
                <h2>Panel de Administración</h2>
                <button class="admin-btn secondary" onclick="closeAdmin()">Cerrar</button>
            </div>

            <div class="admin-section">
                <h3>Información Principal</h3>
                <div class="lang-tabs">
                    <div class="lang-tab active" data-lang="es">Español</div>
                    <div class="lang-tab" data-lang="en">English</div>
                </div>
                <div class="lang-content" data-lang="es">
                    <input type="text" class="admin-input" id="heroTitle_es" placeholder="Título principal">
                    <input type="text" class="admin-input" id="heroSubtitle_es" placeholder="Subtítulo">
                    <textarea class="admin-textarea" id="heroTagline_es" placeholder="Tagline"></textarea>
                </div>
                <div class="lang-content hidden" data-lang="en">
                    <input type="text" class="admin-input" id="heroTitle_en" placeholder="Main title">
                    <input type="text" class="admin-input" id="heroSubtitle_en" placeholder="Subtitle">
                    <textarea class="admin-textarea" id="heroTagline_en" placeholder="Tagline"></textarea>
                </div>
            </div>

            <div class="admin-section">
                <h3>Evolución (3 Actos)</h3>
                <div id="evolutionEditor"></div>
            </div>

            <div class="admin-section">
                <h3>Servicios</h3>
                <div id="servicesEditor"></div>
            </div>

            <div class="admin-section">
                <h3>Casos de Estudio</h3>
                <div id="casesEditor"></div>
            </div>

            <div class="admin-section">
                <h3>Información de Contacto</h3>
                <input type="text" class="admin-input" id="formspreeId" placeholder="xgvzlbvo">
            </div>

            <button class="admin-btn" onclick="saveContent()">Guardar Cambios</button>
            <button class="admin-btn secondary" onclick="resetContent()">Restaurar Original</button>
        </div>
    </div>

    <!-- HERO SECTION -->
    <section class="hero">
        <div class="container">
            <h1 id="main-title">Francisco Medina</h1>
            <p class="subtitle" id="main-subtitle">Senior Copywriter - Director Creativo</p>
            <p id="hero-tagline">De redactor a director: Creatividad con visión estratégica</p>
        </div>
    </section>

    <!-- EVOLUTION SECTION -->
    <section id="evolution-section">
        <div class="container">
            <h2 id="evolution-title">La Evolución</h2>
            
            <div class="evolution-grid" id="evolutionGrid">
                <!-- Content will be loaded by JavaScript -->
            </div>
        </div>
    </section>

    <!-- SERVICES SECTION -->
    <section id="services-section">
        <div class="container">
            <h2 id="services-title">Servicios</h2>
            
            <div class="services-grid" id="servicesGrid">
                <!-- Content will be loaded by JavaScript -->
            </div>
        </div>
    </section>

    <!-- CASES SECTION -->
    <section id="cases-section">
        <div class="container">
            <h2 id="cases-title">Casos Destacados</h2>
            
            <div class="cases-grid" id="casesGrid">
                <!-- Content will be loaded by JavaScript -->
            </div>
        </div>
    </section>

    <!-- CONTACT SECTION -->
    <section id="contact-section">
        <div class="container">
            <h2 id="contact-title">Conversemos</h2>
            
            <form class="contact-form" id="contactForm" method="POST">
                <div class="form-group">
                    <label for="name" id="label-name">Nombre completo</label>
                    <input type="text" id="name" name="name" required>
                </div>
                
                <div class="form-group">
                    <label for="email" id="label-email">Email</label>
                    <input type="email" id="email" name="email" required>
                </div>
                
                <div class="form-group">
                    <label for="phone" id="label-phone">WhatsApp</label>
                    <input type="tel" id="phone" name="phone">
                </div>
                
                <div class="form-group">
                    <label for="message" id="label-message">Mensaje</label>
                    <textarea id="message" name="message" required></textarea>
                </div>
                
                <button type="submit" class="btn-submit" id="submit-btn">Enviar Mensaje</button>
            </form>
        </div>
    </section>

    <script>
        // Default content
        const defaultContent = {
            hero: {
                es: {
                    title: "Francisco Medina",
                    subtitle: "Senior Copywriter - Director Creativo",
                    tagline: "De redactor a director: Creatividad con visión estratégica"
                },
                en: {
                    title: "Francisco Medina",
                    subtitle: "Senior Copywriter - Creative Director",
                    tagline: "From copywriter to director: Creativity with strategic vision"
                }
            },
            evolution: {
                title: {
                    es: "La Evolución",
                    en: "The Evolution"
                },
                acts: [
                    {
                        number: "01",
                        period: "2009-2012",
                        title: {
                            es: "El Redactor",
                            en: "The Copywriter"
                        },
                        description: {
                            es: "Nací laboralmente como redactor publicitario. Aprendiendo el oficio, desarrollando la voz y entendiendo cómo las palabras pueden mover audiencias.",
                            en: "I was born professionally as an advertising copywriter. Learning the craft, developing voice and understanding how words can move audiences."
                        }
                    },
                    {
                        number: "02",
                        period: "2013-2016",
                        title: {
                            es: "El Estratega",
                            en: "The Strategist"
                        },
                        description: {
                            es: "Mutando hacia el mundo digital, adquiriendo nuevos conocimientos que complementan la escritura. Entendiendo el negocio detrás de cada pieza creativa.",
                            en: "Evolving into the digital world, acquiring new knowledge that complements writing. Understanding the business behind every creative piece."
                        }
                    },
                    {
                        number: "03",
                        period: "2016-presente",
                        title: {
                            es: "El Director",
                            en: "The Director"
                        },
                        description: {
                            es: "Liderando equipos creativos, dirigiendo estrategias que funcionan. Las habilidades blandas se convirtieron en mi superpoder para hacer que las ideas cobren vida.",
                            en: "Leading creative teams, directing strategies that work. Soft skills became my superpower to bring ideas to life."
                        }
                    }
                ]
            },
            services: {
                title: {
                    es: "Servicios",
                    en: "Services"
                },
                items: [
                    {
                        title: {
                            es: "Dirección Creativa",
                            en: "Creative Direction"
                        },
                        items: {
                            es: [
                                "Desarrollo de conceptos que venden",
                                "Liderazgo de equipos creativos",
                                "Supervisión de campañas 360°"
                            ],
                            en: [
                                "Development of concepts that sell",
                                "Creative team leadership",
                                "360° campaign supervision"
                            ]
                        }
                    },
                    {
                        title: {
                            es: "Estrategia Digital",
                            en: "Digital Strategy"
                        },
                        items: {
                            es: [
                                "Meta Ads strategy",
                                "Social media strategy",
                                "Performance creative"
                            ],
                            en: [
                                "Meta Ads strategy",
                                "Social media strategy",
                                "Performance creative"
                            ]
                        }
                    },
                    {
                        title: {
                            es: "Consultoría",
                            en: "Consulting"
                        },
                        items: {
                            es: [
                                "Auditorías creativas",
                                "Restructuración de equipos",
                                "Procesos creativos eficientes"
                            ],
                            en: [
                                "Creative audits",
                                "Team restructuring",
                                "Efficient creative processes"
                            ]
                        }
                    }
                ]
            },
            cases: {
                title: {
                    es: "Casos Destacados",
                    en: "Featured Cases"
                },
                items: [
                    {
                        title: "Cencosud Digital",
                        description: {
                            es: "Lideré el equipo creativo digital para las cuentas de Jumbo, Santa Isabel y Retail Financiero Cencosud, desarrollando campañas digitales que cumplan objetivos comerciales de manera creativa.",
                            en: "Led the digital creative team for Jumbo, Santa Isabel and Cencosud Financial Retail accounts, developing digital campaigns that met commercial objectives creatively."
                        },
                        result: {
                            es: "Resultado: Campañas digitales exitosas para el grupo retail más grande de Chile",
                            en: "Result: Successful digital campaigns for Chile's largest retail group"
                        }
                    },
                    {
                        title: "Advertising Not Dead",
                        description: {
                            es: "Como Director Creativo desde 2016, he desarrollado estrategias creativas innovadoras que han posicionado a la agencia como referente en creatividad publicitaria.",
                            en: "As Creative Director since 2016, I have developed innovative creative strategies that have positioned the agency as a reference in advertising creativity."
                        },
                        result: {
                            es: "Resultado: 8+ años de liderazgo creativo exitoso",
                            en: "Result: 8+ years of successful creative leadership"
                        }
                    },
                    {
                        title: "SientoCuarenta",
                        description: {
                            es: "Colectivo creativo propio que llevó el ingenio chileno de Twitter más allá de la plataforma, creando un libro de tuits ilustrados y una revista del medio.",
                            en: "Own creative collective that took Chilean wit from Twitter beyond the platform, creating an illustrated tweet book and a media magazine."
                        },
                        result: {
                            es: "Resultado: Proyecto creativo independiente exitoso 2012-2014",
                            en: "Result: Successful independent creative project 2012-2014"
                        }
                    }
                ]
            },
            contact: {
                formspreeId: "xgvzlbvo"
            }
        };

        // Language functionality
        let currentLang = 'es';
        
        const translations = {
            es: {
                'contact-title': 'Conversemos',
                'label-name': 'Nombre completo',
                'label-email': 'Email',
                'label-phone': 'WhatsApp',
                'label-message': 'Mensaje',
                'submit-btn': 'Enviar Mensaje'
            },
            en: {
                'contact-title': "Let's Talk",
                'label-name': 'Full name',
                'label-email': 'Email',
                'label-phone': 'WhatsApp',
                'label-message': 'Message',
                'submit-btn': 'Send Message'
            }
        };

        function toggleLanguage() {
            const newLang = currentLang === 'es' ? 'en' : 'es';
            const toggleBtn = document.querySelector('.language-toggle');
            
            toggleBtn.textContent = newLang === 'es' ? 'EN' : 'ES';
            
            // Update static translations
            Object.keys(translations[newLang]).forEach(key => {
                const element = document.getElementById(key);
                if (element) {
                    element.textContent = translations[newLang][key];
                }
            });
            
            currentLang = newLang;
            loadContent();
        }

        // Admin functionality
        function toggleAdmin() {
            const adminPanel = document.getElementById('adminPanel');
            adminPanel.style.display = adminPanel.style.display === 'block' ? 'none' : 'block';
            if (adminPanel.style.display === 'block') {
                loadAdminContent();
            }
        }

        function closeAdmin() {
            document.getElementById('adminPanel').style.display = 'none';
        }

        function loadAdminContent() {
            const content = getContent();
            
            // Load hero content
            document.getElementById('heroTitle_es').value = content.hero.es.title;
            document.getElementById('heroTitle_en').value = content.hero.en.title;
            document.getElementById('heroSubtitle_es').value = content.hero.es.subtitle;
            document.getElementById('heroSubtitle_en').value = content.hero.en.subtitle;
            document.getElementById('heroTagline_es').value = content.hero.es.tagline;
            document.getElementById('heroTagline_en').value = content.hero.en.tagline;
            
            document.getElementById('formspreeId').value = content.contact.formspreeId;

            // Load evolution editor
            loadEvolutionEditor(content);
            loadServicesEditor(content);
            loadCasesEditor(content);
        }

        function loadEvolutionEditor(content) {
            const container = document.getElementById('evolutionEditor');
            let html = '';
            
            content.evolution.acts.forEach((act, index) => {
                html += `
                    <div style="border: 1px solid #ddd; padding: 1rem; margin-bottom: 1rem; border-radius: 4px;">
                        <h4>Acto ${act.number}</h4>
                        <input type="text" class="admin-input" id="actPeriod_${index}" value="${act.period}" placeholder="Período">
                        <input type="text" class="admin-input" id="actTitle_es_${index}" value="${act.title.es}" placeholder="Título (ES)">
                        <input type="text" class="admin-input" id="actTitle_en_${index}" value="${act.title.en}" placeholder="Título (EN)">
                        <textarea class="admin-textarea" id="actDesc_es_${index}" placeholder="Descripción (ES)">${act.description.es}</textarea>
                        <textarea class="admin-textarea" id="actDesc_en_${index}" placeholder="Descripción (EN)">${act.description.en}</textarea>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }

        function loadServicesEditor(content) {
            const container = document.getElementById('servicesEditor');
            let html = '';
            
            content.services.items.forEach((service, index) => {
                html += `
                    <div style="border: 1px solid #ddd; padding: 1rem; margin-bottom: 1rem; border-radius: 4px;">
                        <h4>Servicio ${index + 1}</h4>
                        <input type="text" class="admin-input" id="serviceTitle_es_${index}" value="${service.title.es}" placeholder="Título del servicio (ES)">
                        <input type="text" class="admin-input" id="serviceTitle_en_${index}" value="${service.title.en}" placeholder="Título del servicio (EN)">
                        <textarea class="admin-textarea" id="serviceItems_es_${index}" placeholder="Items del servicio (ES) - uno por línea">${service.items.es.join('\n')}</textarea>
                        <textarea class="admin-textarea" id="serviceItems_en_${index}" placeholder="Items del servicio (EN) - uno por línea">${service.items.en.join('\n')}</textarea>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }

        function loadCasesEditor(content) {
            const container = document.getElementById('casesEditor');
            let html = '';
            
            content.cases.items.forEach((caseItem, index) => {
                html += `
                    <div style="border: 1px solid #ddd; padding: 1rem; margin-bottom: 1rem; border-radius: 4px;">
                        <h4>Caso ${index + 1}</h4>
                        <input type="text" class="admin-input" id="caseTitle_${index}" value="${caseItem.title}" placeholder="Título del caso">
                        <textarea class="admin-textarea" id="caseDesc_es_${index}" placeholder="Descripción (ES)">${caseItem.description.es}</textarea>
                        <textarea class="admin-textarea" id="caseDesc_en_${index}" placeholder="Descripción (EN)">${caseItem.description.en}</textarea>
                        <textarea class="admin-textarea" id="caseResult_es_${index}" placeholder="Resultado (ES)">${caseItem.result.es}</textarea>
                        <textarea class="admin-textarea" id="caseResult_en_${index}" placeholder="Resultado (EN)">${caseItem.result.en}</textarea>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }

        function saveContent() {
            const content = getContent();
            
            // Save hero content
            content.hero.es.title = document.getElementById('heroTitle_es').value;
            content.hero.en.title = document.getElementById('heroTitle_en').value;
            content.hero.es.subtitle = document.getElementById('heroSubtitle_es').value;
            content.hero.en.subtitle = document.getElementById('heroSubtitle_en').value;
            content.hero.es.tagline = document.getElementById('heroTagline_es').value;
            content.hero.en.tagline = document.getElementById('heroTagline_en').value;
            
            // Save evolution content
            content.evolution.acts.forEach((act, index) => {
                act.period = document.getElementById(`actPeriod_${index}`).value;
                act.title.es = document.getElementById(`actTitle_es_${index}`).value;
                act.title.en = document.getElementById(`actTitle_en_${index}`).value;
                act.description.es = document.getElementById(`actDesc_es_${index}`).value;
                act.description.en = document.getElementById(`actDesc_en_${index}`).value;
            });
            
            // Save services content
            content.services.items.forEach((service, index) => {
                service.title.es = document.getElementById(`serviceTitle_es_${index}`).value;
                service.title.en = document.getElementById(`serviceTitle_en_${index}`).value;
                service.items.es = document.getElementById(`serviceItems_es_${index}`).value.split('\n').filter(item => item.trim());
                service.items.en = document.getElementById(`serviceItems_en_${index}`).value.split('\n').filter(item => item.trim());
            });
            
            // Save cases content
            content.cases.items.forEach((caseItem, index) => {
                caseItem.title = document.getElementById(`caseTitle_${index}`).value;
                caseItem.description.es = document.getElementById(`caseDesc_es_${index}`).value;
                caseItem.description.en = document.getElementById(`caseDesc_en_${index}`).value;
                caseItem.result.es = document.getElementById(`caseResult_es_${index}`).value;
                caseItem.result.en = document.getElementById(`caseResult_en_${index}`).value;
            });
            
            // Save contact content
            content.contact.formspreeId = document.getElementById('formspreeId').value;
            
            localStorage.setItem('portfolioContent', JSON.stringify(content));
            loadContent();
            closeAdmin();
            alert('Contenido guardado exitosamente!');
        }

        function resetContent() {
            if (confirm('¿Estás seguro de que quieres restaurar el contenido original?')) {
                localStorage.removeItem('portfolioContent');
                loadContent();
                closeAdmin();
                alert('Contenido restaurado al original.');
            }
        }

        function getContent() {
            const saved = localStorage.getItem('portfolioContent');
            return saved ? JSON.parse(saved) : JSON.parse(JSON.stringify(defaultContent));
        }

        function loadContent() {
            const content = getContent();
            
            // Load hero content
            document.getElementById('main-title').textContent = content.hero[currentLang].title;
            document.getElementById('main-subtitle').textContent = content.hero[currentLang].subtitle;
            document.getElementById('hero-tagline').textContent = content.hero[currentLang].tagline;
            
            // Load evolution content
            document.getElementById('evolution-title').textContent = content.evolution.title[currentLang];
            loadEvolutionContent(content);
            
            // Load services content
            document.getElementById('services-title').textContent = content.services.title[currentLang];
            loadServicesContent(content);
            
            // Load cases content
            document.getElementById('cases-title').textContent = content.cases.title[currentLang];
            loadCasesContent(content);
            
            // Update form action
            updateFormAction(content.contact.formspreeId);
        }

        function loadEvolutionContent(content) {
            const container = document.getElementById('evolutionGrid');
            let html = '';
            
            content.evolution.acts.forEach(act => {
                html += `
                    <div class="evolution-item">
                        <div class="evolution-number">${act.number}</div>
                        <h3>${act.title[currentLang]}</h3>
                        <div class="evolution-period">${act.period}</div>
                        <p>${act.description[currentLang]}</p>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }

        function loadServicesContent(content) {
            const container = document.getElementById('servicesGrid');
            let html = '';
            
            content.services.items.forEach(service => {
                html += `
                    <div class="service-item">
                        <h3>${service.title[currentLang]}</h3>
                        <ul>
                            ${service.items[currentLang].map(item => `<li>${item}</li>`).join('')}
                        </ul>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }

        function loadCasesContent(content) {
            const container = document.getElementById('casesGrid');
            let html = '';
            
            content.cases.items.forEach(caseItem => {
                html += `
                    <div class="case-item">
                        <h3>${caseItem.title}</h3>
                        <p>${caseItem.description[currentLang]}</p>
                        <p class="case-result">${caseItem.result[currentLang]}</p>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }

        function updateFormAction(formspreeId) {
            const form = document.getElementById('contactForm');
            if (formspreeId && formspreeId !== 'xgvzlbvo') {
                form.action = `https://formspree.io/f/${formspreeId}`;
            }
        }

        // Language tab functionality
        document.addEventListener('DOMContentLoaded', function() {
            // Load initial content
            loadContent();
            
            // Language tabs in admin
            document.addEventListener('click', function(e) {
                if (e.target.classList.contains('lang-tab')) {
                    const lang = e.target.dataset.lang;
                    
                    // Update tab active state
                    document.querySelectorAll('.lang-tab').forEach(tab => tab.classList.remove('active'));
                    e.target.classList.add('active');
                    
                    // Show/hide content
                    document.querySelectorAll('.lang-content').forEach(content => {
                        if (content.dataset.lang === lang) {
                            content.classList.remove('hidden');
                        } else {
                            content.classList.add('hidden');
                        }
                    });
                }
            });
        });
    </script>
</body>
</html>
